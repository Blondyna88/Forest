"use strict";function _createForOfIteratorHelper(e,t){var n,r,a,i,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return r=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){r=!0,a=e},f:function(){try{n||null==o.return||o.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var burgerBtn=document.querySelector(".hamburger"),navList=document.querySelector(".nav__list"),navItems=document.querySelectorAll(".nav__list-item"),scrollSpySections=document.querySelectorAll(".section"),form=document.querySelector("form"),fullName=document.getElementById("name"),email=document.getElementById("email"),phone=document.getElementById("phone"),message=document.getElementById("message"),items=document.querySelectorAll(".item"),handleNav=function(){navList.classList.toggle("open"),handleNavItemsAnimation(),navItems.forEach(function(e){e.addEventListener("click",resetAnimation)})},handleNavItemsAnimation=function(){var t=0;navItems.forEach(function(e){e.classList.toggle("nav-items-animation"),e.style.animationDelay="."+t+"s",t++})},resetAnimation=function(){navList.classList.remove("open"),navItems.forEach(function(e){e.classList.toggle("nav-items-animation")})};function sendEmail(){var e="Imię i nazwisko: ".concat(fullName.value," <br> E-mail: ").concat(email.value,"<br> Telefon: ").concat(phone.value," <br> Wiadomość: ").concat(message.value);Email.send({Host:"smtp.elasticemail.com",Username:"myprogramtest3@gmail.com",Password:"D2181D49CCDE3F0E82A43E98691E79704087",To:"myprogramtest3@gmail.com",From:"myprogramtest3@gmail.com",Subject:"Forest kontakt",Body:e}).then(function(e){"OK"==e&&Swal.fire({title:"Dobra robota!",text:"Wiadomość przesłana poprawnie!",icon:"success"})})}function checkInputs(){var t,n=_createForOfIteratorHelper(items);try{for(n.s();!(t=n.n()).done;)!function(){var e=t.value;""==e.value&&(e.classList.add("error-field"),e.nextElementSibling.classList.add("error")),""!=items[0].value&&checkName(),items[0].addEventListener("keyup",function(){checkName()}),""!=items[1].value&&checkEmail(),items[1].addEventListener("keyup",function(){checkEmail()}),""!=items[2].value&&checkPhone(),items[2].addEventListener("keyup",function(){checkPhone()}),e.addEventListener("keyup",function(){""!=e.value?(e.classList.remove("error-field"),e.nextElementSibling.classList.remove("error")):(e.classList.add("error-field"),e.nextElementSibling.classList.add("error"))})}()}catch(e){n.e(e)}finally{n.f()}}burgerBtn.addEventListener("click",handleNav);var checkName=function(){fullName.value.match(/^([a-zA-Z]+) ([a-zA-Z-'\. ])+$/)?(fullName.classList.remove("error-field"),fullName.nextElementSibling.classList.remove("error")):(fullName.classList.add("error-field"),fullName.nextElementSibling.classList.add("error"),""!=fullName.value?fullName.nextElementSibling.innerText="Nieprawidłowe dane":fullName.nextElementSibling.innerText="To pole jest puste!")},checkEmail=function(){email.value.match(/^([a-z\d\.-]+)@([a-z\d-]+)\.([a-z]{2,3})(\.[a-z]{2,3})?$/)?(email.classList.remove("error-field"),email.nextElementSibling.classList.remove("error")):(email.classList.add("error-field"),email.nextElementSibling.classList.add("error"),""!=email.value?email.nextElementSibling.innerText="Nieprawidłowy adres e-mail!":email.nextElementSibling.innerText="To pole jest puste!")};function checkPhone(){phone.value.match(/^([0-9]{8,13})?$/)?(phone.classList.remove("error-field"),phone.nextElementSibling.classList.remove("error")):(phone.classList.add("error-field"),phone.nextElementSibling.classList.add("error"),""!=phone.value?phone.nextElementSibling.innerText="Nieprawidłowy numer!":phone.nextElementSibling.innerText="To pole jest puste!")}var resetForm=function(){var e,t=_createForOfIteratorHelper(items);try{for(t.s();!(e=t.n()).done;)e.value.value=""}catch(e){t.e(e)}finally{t.f()}};form.addEventListener("submit",function(e){e.preventDefault(),checkInputs(),fullName.classList.contains("error-field")||email.classList.contains("error-field")||phone.classList.contains("error-field")||message.classList.contains("error-field")||(sendEmail(),resetForm())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXJnZXJCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZMaXN0IiwibmF2SXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2Nyb2xsU3B5U2VjdGlvbnMiLCJnZXRFbGVtZW50QnlJZCIsImZvcm0iLCJmdWxsTmFtZSIsIml0ZW1zIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaGFuZGxlTmF2SXRlbXNBbmltYXRpb24iLCJoYW5kbGVOYXYiLCJpdGVtIiwicmVzZXRBbmltYXRpb24iLCJkZWxheVRpbWUiLCJmb3JFYWNoIiwic3R5bGUiLCJyZW1vdmUiLCJzZW5kIiwiSG9zdCIsImNvbmNhdCIsInZhbHVlIiwiZW1haWwiLCJwaG9uZSIsIm1lc3NhZ2UiLCJFbWFpbCIsIlBhc3N3b3JkIiwiVXNlcm5hbWUiLCJUbyIsIkJvZHkiLCJGcm9tIiwidGhlbiIsIlN1YmplY3QiLCJTd2FsIiwidGl0bGUiLCJpY29uIiwidGV4dCIsIl9sb29wIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJfc3RlcCIsInMiLCJuIiwiZG9uZSIsIm5leHRFbGVtZW50U2libGluZyIsImNoZWNrTmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0VtYWlsIiwiY2hlY2tQaG9uZSIsImFkZCIsImVyciIsImUiLCJmIiwiaW5uZXJUZXh0IiwicGhvbmVSZWdleCIsIm1hdGNoIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tJbnB1dHMiLCJjb250YWlucyIsInNlbmRFbWFpbCIsInJlc2V0Rm9ybSJdLCJtYXBwaW5ncyI6Im9vQ0FBQSxJQUFNQSxVQUFZQyxTQUFTQyxjQUFjLFlBQVksRUFDL0NDLFFBQVVGLFNBQVNDLGNBQWMsWUFBWSxFQUM3Q0UsU0FBV0gsU0FBU0ksaUJBQWlCLGlCQUFpQixFQUN0REMsa0JBQW9CTCxTQUFTSSxpQkFBaUIsVUFBVSxFQUh4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LEdBQUFNLEVBQUFMLEVBQUFELENBQUEsQ0FBQSxDQUFBLFFBQUFNLEVBQUFKLEVBQUEsQ0FBQSxDQUNGLEVBRUEvQyxLQUNHcUQsaUJBQWdCLFNBQUEsU0FBQVAsR0FBbEJBLEVBQ0FRLGVBQWEsRUFBYkEsWUFHRXJELEVBT0ZBLFNBQUFFLFVBQUFvRCxTQUFBLGFBQUEsR0FDQ3RDLE1BQUFkLFVBQUFvRCxTQUFBLGFBQUEsR0FOQ3JDLE1BQU1mLFVBQVVvRCxTQUFTLGFBQWEsR0FDdENwQyxRQUFRaEIsVUFBVW9ELFNBQVMsYUFBYSxJQUV6Q0MsVUFBVSxFQUNOQyxVQUFVLEVBRWhCLENBQUMiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyXCIpO1xyXG5jb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3RcIik7XHJcbmNvbnN0IG5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpc3QtaXRlbVwiKTtcclxuY29uc3Qgc2Nyb2xsU3B5U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlY3Rpb25cIik7XHJcblxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XHJcbmNvbnN0IGZ1bGxOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIpO1xyXG5jb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxcIik7XHJcbmNvbnN0IHBob25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaG9uZVwiKTtcclxuY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZVwiKTtcclxuY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW1cIik7XHJcblxyXG4vL25hdmlnYXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcblx0bmF2TGlzdC5jbGFzc0xpc3QudG9nZ2xlKFwib3BlblwiKTtcclxuXHRoYW5kbGVOYXZJdGVtc0FuaW1hdGlvbigpO1xyXG5cclxuXHRuYXZJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVzZXRBbmltYXRpb24pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTmF2SXRlbXNBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0bGV0IGRlbGF5VGltZSA9IDA7XHJcblxyXG5cdG5hdkl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtaXRlbXMtYW5pbWF0aW9uXCIpO1xyXG5cclxuXHRcdGl0ZW0uc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBcIi5cIiArIGRlbGF5VGltZSArIFwic1wiO1xyXG5cdFx0ZGVsYXlUaW1lKys7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCByZXNldEFuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRuYXZMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xyXG5cdG5hdkl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtaXRlbXMtYW5pbWF0aW9uXCIpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVOYXYpO1xyXG5cclxuLy8gY29udGFjdCBmb3JtIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmZ1bmN0aW9uIHNlbmRFbWFpbCgpIHtcclxuXHRjb25zdCBib2R5TWVzc2FnZSA9IGBJbWnEmSBpIG5hendpc2tvOiAke2Z1bGxOYW1lLnZhbHVlfSA8YnI+IEUtbWFpbDogJHtlbWFpbC52YWx1ZX08YnI+IFRlbGVmb246ICR7cGhvbmUudmFsdWV9IDxicj4gV2lhZG9tb8WbxIc6ICR7bWVzc2FnZS52YWx1ZX1gO1xyXG5cclxuXHRFbWFpbC5zZW5kKHtcclxuXHRcdEhvc3Q6IFwic210cC5lbGFzdGljZW1haWwuY29tXCIsXHJcblx0XHRVc2VybmFtZTogXCJteXByb2dyYW10ZXN0M0BnbWFpbC5jb21cIixcclxuXHRcdFBhc3N3b3JkOiBcIkQyMTgxRDQ5Q0NERTNGMEU4MkE0M0U5ODY5MUU3OTcwNDA4N1wiLFxyXG5cdFx0VG86IFwibXlwcm9ncmFtdGVzdDNAZ21haWwuY29tXCIsXHJcblx0XHRGcm9tOiBcIm15cHJvZ3JhbXRlc3QzQGdtYWlsLmNvbVwiLFxyXG5cdFx0U3ViamVjdDogXCJGb3Jlc3Qga29udGFrdFwiLFxyXG5cdFx0Qm9keTogYm9keU1lc3NhZ2UsXHJcblx0fSkudGhlbihtZXNzYWdlID0+IHtcclxuXHRcdGlmIChtZXNzYWdlID09IFwiT0tcIikge1xyXG5cdFx0XHRTd2FsLmZpcmUoe1xyXG5cdFx0XHRcdHRpdGxlOiBcIkRvYnJhIHJvYm90YSFcIixcclxuXHRcdFx0XHR0ZXh0OiBcIldpYWRvbW/Fm8SHIHByemVzxYJhbmEgcG9wcmF3bmllIVwiLFxyXG5cdFx0XHRcdGljb246IFwic3VjY2Vzc1wiLFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tJbnB1dHMoKSB7XHJcblx0Zm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XHJcblx0XHRpZiAoaXRlbS52YWx1ZSA9PSBcIlwiKSB7XHJcblx0XHRcdGl0ZW0uY2xhc3NMaXN0LmFkZChcImVycm9yLWZpZWxkXCIpO1xyXG5cdFx0XHRpdGVtLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XHJcblx0XHR9XHJcblxyXG4gICAgICBpZiAoaXRlbXNbMF0udmFsdWUgIT0gXCJcIikge1xyXG5cdFx0XHRjaGVja05hbWUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpdGVtc1swXS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xyXG5cdFx0XHRjaGVja05hbWUoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChpdGVtc1sxXS52YWx1ZSAhPSBcIlwiKSB7XHJcblx0XHRcdGNoZWNrRW1haWwoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpdGVtc1sxXS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xyXG5cdFx0XHRjaGVja0VtYWlsKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoaXRlbXNbMl0udmFsdWUgIT0gXCJcIikge1xyXG5cdFx0XHRjaGVja1Bob25lKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aXRlbXNbMl0uYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICgpID0+IHtcclxuXHRcdFx0Y2hlY2tQaG9uZSgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xyXG5cdFx0XHRpZiAoaXRlbS52YWx1ZSAhPSBcIlwiKSB7XHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZmllbGRcIik7XHJcblx0XHRcdFx0aXRlbS5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LmFkZChcImVycm9yLWZpZWxkXCIpO1xyXG5cdFx0XHRcdGl0ZW0ubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja05hbWUgPSAoKSA9PiB7XHJcblx0Y29uc3QgZnVsbE5hbWVSZWdleCA9L14oW2EtekEtWl0rKSAoW2EtekEtWi0nXFwuIF0pKyQvO1xyXG5cclxuXHRpZiAoIWZ1bGxOYW1lLnZhbHVlLm1hdGNoKGZ1bGxOYW1lUmVnZXgpKSB7XHJcblx0XHRmdWxsTmFtZS5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItZmllbGRcIik7XHJcblx0XHRmdWxsTmFtZS5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG5cclxuXHRcdGlmIChmdWxsTmFtZS52YWx1ZSAhPSBcIlwiKSB7XHJcblx0XHRcdGZ1bGxOYW1lLm5leHRFbGVtZW50U2libGluZy5pbm5lclRleHQgPSBcIk5pZXByYXdpZMWCb3dlIGRhbmVcIjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZ1bGxOYW1lLm5leHRFbGVtZW50U2libGluZy5pbm5lclRleHQgPSBcIlRvIHBvbGUgamVzdCBwdXN0ZSFcIjtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0ZnVsbE5hbWUuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yLWZpZWxkXCIpO1xyXG5cdFx0ZnVsbE5hbWUubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0VtYWlsID0gKCkgPT4ge1xyXG5cdGNvbnN0IGVtYWlsUmVnZXggPSAgL14oW2EtelxcZFxcLi1dKylAKFthLXpcXGQtXSspXFwuKFthLXpdezIsM30pKFxcLlthLXpdezIsM30pPyQvO1xyXG5cclxuXHRpZiAoIWVtYWlsLnZhbHVlLm1hdGNoKGVtYWlsUmVnZXgpKSB7XHJcblx0XHRlbWFpbC5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItZmllbGRcIik7XHJcblx0XHRlbWFpbC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG5cclxuXHRcdGlmIChlbWFpbC52YWx1ZSAhPSBcIlwiKSB7XHJcblx0XHRcdGVtYWlsLm5leHRFbGVtZW50U2libGluZy5pbm5lclRleHQgPSBcIk5pZXByYXdpZMWCb3d5IGFkcmVzIGUtbWFpbCFcIjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGVtYWlsLm5leHRFbGVtZW50U2libGluZy5pbm5lclRleHQgPSBcIlRvIHBvbGUgamVzdCBwdXN0ZSFcIjtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0ZW1haWwuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yLWZpZWxkXCIpO1xyXG5cdFx0ZW1haWwubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxuXHR9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjaGVja1Bob25lKCkge1xyXG5cdGNvbnN0IHBob25lUmVnZXggPSAvXihbMC05XXs4LDEzfSk/JC87XHJcblxyXG5cdGlmICghcGhvbmUudmFsdWUubWF0Y2gocGhvbmVSZWdleCkpIHtcclxuXHRcdHBob25lLmNsYXNzTGlzdC5hZGQoXCJlcnJvci1maWVsZFwiKTtcclxuXHRcdHBob25lLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XHJcblxyXG5cdFx0aWYgKHBob25lLnZhbHVlICE9IFwiXCIpIHtcclxuXHRcdFx0cGhvbmUubmV4dEVsZW1lbnRTaWJsaW5nLmlubmVyVGV4dCA9IFwiTmllcHJhd2lkxYJvd3kgbnVtZXIhXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwaG9uZS5uZXh0RWxlbWVudFNpYmxpbmcuaW5uZXJUZXh0ID0gXCJUbyBwb2xlIGplc3QgcHVzdGUhXCI7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdHBob25lLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvci1maWVsZFwiKTtcclxuXHRcdHBob25lLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCByZXNldEZvcm0gPSAoKSA9PiB7XHJcblx0Zm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XHJcblx0XHRpdGVtLnZhbHVlID0gXCJcIjtcclxuXHR9XHJcbn07XHJcblxyXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGNoZWNrSW5wdXRzKCk7XHJcblxyXG5cdGlmIChcclxuXHRcdCFmdWxsTmFtZS5jbGFzc0xpc3QuY29udGFpbnMoXCJlcnJvci1maWVsZFwiKSAmJlxyXG5cdFx0IWVtYWlsLmNsYXNzTGlzdC5jb250YWlucyhcImVycm9yLWZpZWxkXCIpICYmXHJcblx0XHQhcGhvbmUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZXJyb3ItZmllbGRcIikgJiZcclxuXHRcdCFtZXNzYWdlLmNsYXNzTGlzdC5jb250YWlucyhcImVycm9yLWZpZWxkXCIpXHJcblx0KSB7XHJcblx0XHRzZW5kRW1haWwoKTtcclxuICAgICAgcmVzZXRGb3JtKCk7XHJcblx0fVxyXG59KTtcclxuIl19
